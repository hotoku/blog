---
layout: post
title: ALについて
date: 2021-02-09 09:54:15 +0900
tags: draft
---


## 解くべき問題

まず初めに、超抽象的な問題設定を明示的に述べておく。

**やりたきこと**

問題を解こうとしている生徒がいる。問題を見ただけでは、生徒は答えが分からないとする。
生徒に対して適切なヒントを与えることで、生徒が問題を解ける状態にしたい。
どの生徒・問題に対して、どのヒントを与えるかを、生徒の不足能力に応じて自動的に適応的に決定したい。

**問題の定式化に現れるであろう構成要素**

- パラメータ
  - 問題の難易度
  - ヒントによる難易度の変化
  - 生徒の能力
- モデル
  - (問題, 生徒の能力) → 正答確率
  - (問題, ヒント（複数かも）, 生徒の能力) → 正答確率

**実装の方針**

仮に上のような道具が手に入ったとしたら、基本的には、次のように問題が解決できると思われる
（どうやって、それらを手に入れるのか。どのように実装するのか？システム構成・現場実装・計算負荷・資源コスト等の話の一切はここでは考慮しない）。

1. 生徒と問題から、正答確率を計算する
   - これが十分に高いのであれば終わり
1. 与えられた問題と生徒の組み合わせの中から「その生徒にとって最も必要であろう」ヒントを与える
   - これを、生徒が正解する or 正答確率が十分大きくなるまで繰り返す

ここで、「その生徒にとって最も必要であろう」という意味は別途、ハッキリさせる必要がある。
シンプルには、例えば「それを与えることで正答確率が最も大きくなるヒント」などが考えられる。
しかし、他にも「生徒の最も低いスキルを補うヒント」といった方針も考えうる。

**実現のための課題**

問題の難易度や、そのヒントによる変化、生徒の能力といった値は直接に計測する手段はない。
一般的に手に入るデータは、(問題, 生徒, 回答の正誤)の組のデータである。
したがって、上のようなデータからほしいパラメータを推定するためのモデルが必要になる。

上のような問題設定に対して利用できる枠組みとしてIRTがあるので、それを以下にまとめる。

## IRTの構成要素

**問題と生徒**

- $$u_j$$ : $$j$$番目の問題を表すパラメータ $$(a_j, b_j)$$。それぞれの意味は以下で。
- $$\theta_i$$ : $$i$$番目の生徒の能力を表すパラメータ。もともとのIRTでは $$\theta_i\in R$$だが、ここでは$$\theta_i\in R^S$$となるような状況を考えたい。
  ここで、$$S$$はスキルの数。

**生徒が問題を解ける確率**

$$
P(u_j | \theta_i) = \frac{1}{\exp(-1.7 a_j (\theta_i - b_{j}))}
$$

※ 🤔 もとのpdfでは$$b_{jk}$$となっていた → 問題$$j$$に$$k$$番目のヒントを出した状態・・？

基本的に、

- 生徒の能力が高ければ、問題を解ける確率は上がる
- 問題の難易度が高ければ、問題を解ける確率は下がる

ということを素直に表現している（$$(\theta_i - b_{j})$$の部分）。

また、問題によって「能力と難易度の差に正答確率がどれだけ反応するか」が変わるという状況を反映するために、$$a_j$$が導入されている。

**推定方法**

問題$$j$$に生徒$$i$$が正答したかどうかのデータを$$y_{ij}$$として、$$y_{ij}$$と$$P(u_j, \theta_i)$$の交差エントロピーを最大にするパラメータを求めれば良い。

## 多スキルへの拡張
